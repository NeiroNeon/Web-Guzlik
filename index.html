<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Skin Viewer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>
<script src="https://unpkg.com/skinview3d@3.1.0/bundles/skinview3d.bundle.js"></script>

<style>
@font-face{
  font-family: Minecraft;
  src: url("minecraft.ttf");
}

html,body{
  margin:0;
  width:100%;
  height:100%;
  overflow:hidden;
  background:transparent;
}

#viewer{
  width:100%;
  height:100%;
  position:relative;
}

.nickname{
  position:absolute;
  top:25px;
  left:50%;
  transform:translateX(-50%);
  font-family:Minecraft, monospace;
  font-size:16px;
  color:#fff;
  background:rgba(0,0,0,.5);
  padding:3px 7px;
  white-space:nowrap;
  image-rendering:pixelated;
  text-shadow:2px 2px 0 #3f3f3f;
}
</style>
</head>

<body>

<div id="viewer">
  <div class="nickname" id="nickname"></div>
</div>

<script>
const viewer = document.getElementById("viewer");
const nicknameEl = document.getElementById("nickname");

// Ник из localStorage
const nick = localStorage.getItem("mcNick") || "Player";
nicknameEl.textContent = nick;

// Инициализация 3D
const skinViewer = new skinview3d.SkinViewer({
  width:300,
  height:420,
  skin:"skin/1.png",
  fov:40,
  zoom:0.9
});

skinViewer.renderer.setPixelRatio(1);
skinViewer.renderer.antialias = false;
skinViewer.renderer.setClearAlpha(0);
skinViewer.scene.background = null;

skinViewer.controls.enableZoom = false;
skinViewer.controls.enablePan = false;
skinViewer.controls.enableRotate = true;
skinViewer.controls.autoRotate = true;
skinViewer.controls.autoRotateSpeed = 8;

skinViewer.playerObject.position.y = -0.15;

// Вставляем canvas
viewer.appendChild(skinViewer.canvas);

// При взаимодействии останавливаем автоповорот
viewer.addEventListener("pointerdown",()=>{
  skinViewer.controls.autoRotate = false;
});
viewer.addEventListener("pointerup",()=>{
  skinViewer.controls.autoRotate = true;
});
</script>

</body>
</html>