<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú–∞–≥–∞–∑–∏–Ω Guzlik Play ‚Äî 2026</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <link href="https://fonts.cdnfonts.com/css/minecraft-rus" rel="stylesheet">
  <style>
    /* ========== –°–í–ï–¢–õ–ê–Ø –¢–ï–ú–ê (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ========== */
    :root{
      --bg:#fef5f7;
      --spot:#ffd1dc;
      --card:rgba(255,255,255,.55);
      --text:#2d2d2d;
      --muted:#6e6e6e;
      --accent:#ff85a2;
      --online:#4caf50;
      --shadow:0 8px 32px rgba(0,0,0,.08);
      --radius:16px;
      --petal:#ffc8d6;

      /* –ø—è—Ç–Ω–∞ –Ω–∞ —Ñ–æ–Ω–µ */
      --stain1:rgba(255,209,220,.7);
      --stain2:rgba(255,230,240,.6);
      --stain3:rgba(255,240,245,.5);
    }

    /* ========== –¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê ========== */
    [data-theme="dark"]{
      --bg:#1a1a1a;
      --spot:#ff85a222;
      --card:rgba(30,30,30,.75);
      --text:#e0e0e0;
      --muted:#aaa;
      --accent:#ff85a2;
      --shadow:0 8px 32px rgba(0,0,0,.5);
      --petal:#ffb7c588;

      /* –±–æ–ª–µ–µ —Ç—ë–º–Ω—ã–µ –ø—è—Ç–Ω–∞ */
      --stain1:rgba(255,133,162,.12);
      --stain2:rgba(255,133,162,.08);
      --stain3:rgba(255,133,162,.05);
    }

    *{box-sizing:border-box;margin:0;padding:0;font-family:'Minecraft Rus',-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial,sans-serif}
    html{scroll-behavior:smooth}
    body{
      min-height:100vh;
      color:var(--text);
      display:flex;
      flex-direction:column;
      overflow-x:hidden;
      background:
        radial-gradient(circle at 15% 25%, var(--stain1) 0%, transparent 35%),
        radial-gradient(circle at 85% 75%, var(--stain2) 0%, transparent 30%),
        radial-gradient(circle at 50% 50%, var(--stain3) 0%, transparent 25%),
        linear-gradient(135deg, var(--bg) 0%, var(--spot) 100%) fixed;
      background-attachment: fixed;
      transition: background .3s;
    }

    /* –ª–µ–ø–µ—Å—Ç–∫–∏ */
    #petals{position:fixed;inset:0;pointer-events:none;z-index:1}
    .petal{position:absolute;width:10px;height:10px;background:var(--petal);border-radius:2px;pointer-events:none;opacity:.6}

    header{position:relative;padding:clamp(2rem,5vw,4rem) clamp(1rem,3vw,3rem);text-align:center;z-index:2}
    .logo-header{width:clamp(320px,60vw,480px);height:auto;max-height:200px;object-fit:contain;cursor:pointer}

    /* –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã */
    .theme-toggle{
      position:absolute;
      top:2rem;
      left:2rem;
      background:var(--card);
      border:1px solid rgba(0,0,0,.05);
      border-radius:var(--radius);
      width:48px;
      height:48px;
      display:grid;
      place-items:center;
      font-size:1.4rem;
      cursor:pointer;
      transition:transform .2s, border-color .3s, box-shadow .3s;
      box-shadow:0 2px 8px rgba(0,0,0,.15);
    }
    .theme-toggle:hover{transform:scale(1.1);border-color:var(--accent)}
    [data-theme="dark"] .theme-toggle{border-color:rgba(255,255,255,.15)}

    /* –∫–Ω–æ–ø–∫–∞ ¬´–ù–∞ —Å–∞–π—Ç¬ª */
    .site-btn{
      position:absolute;
      top:2rem;
      left:calc(2rem + 48px + .5rem); /* 48px —à–∏—Ä–∏–Ω–∞ toggle + –æ—Ç—Å—Ç—É–ø */
      background:var(--card);
      border:1px solid rgba(0,0,0,.05);
      border-radius:var(--radius);
      width:48px;
      height:48px;
      display:grid;
      place-items:center;
      font-size:1.4rem;
      text-decoration:none;
      color:var(--text);
      cursor:pointer;
      transition:transform .2s, border-color .3s, box-shadow .3s;
      box-shadow:0 2px 8px rgba(0,0,0,.15);
    }
    .site-btn:hover{transform:scale(1.1);border-color:var(--accent)}
    [data-theme="dark"] .site-btn{border-color:rgba(255,255,255,.15)}

    .top-cart{position:absolute;top:2rem;right:2rem;display:flex;align-items:center;gap:.5rem;background:var(--card);border:1px solid rgba(0,0,0,.05);border-radius:var(--radius);padding:.5rem 1rem;cursor:pointer;transition:border-color .3s,box-shadow .3s}
    .top-cart:hover{border-color:var(--accent);box-shadow:var(--shadow)}
    .top-cart img{width:32px;height:32px}
    .top-cart-count{background:var(--accent);color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;font-weight:700;display:grid;place-items:center}

    .cat-nav{display:flex;gap:.5rem;padding:0 clamp(1rem,3vw,3rem);overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;margin-top:1rem}
    .cat-btn{flex:0 0 auto;scroll-snap-align:start;background:var(--card);border:1px solid rgba(0,0,0,.05);border-radius:var(--radius);padding:.75rem 1.5rem;font-size:clamp(.9rem,2.2vw,1.1rem);font-weight:700;color:var(--text);cursor:pointer;transition:border-color .3s,background .3s}
    .cat-btn.active{border-color:var(--accent);background:var(--accent);color:#fff}

    .tools{display:flex;gap:1rem;padding:1rem clamp(1rem,3vw,3rem);margin-bottom:70px}
    .search{flex:1;background:var(--card);border:1px solid rgba(0,0,0,.05);border-radius:var(--radius);padding:.75rem 1rem;font-size:1rem;color:var(--text)}
    .sort{background:var(--card);border:1px solid rgba(0,0,0,.05);border-radius:var(--radius);padding:.75rem 1rem;font-size:1rem;color:var(--text);cursor:pointer}

    .shop-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(clamp(280px,30vw,320px),1fr));gap:80px;padding:0 clamp(1rem,3vw,3rem) clamp(2rem,6vw,4rem);position:relative;z-index:3}

    /* —Å—Ç–µ–∫–ª—è–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ */
    .item-card{
      position:relative;
      background:var(--card);
      backdrop-filter:blur(12px) saturate(180%);
      -webkit-backdrop-filter:blur(12px) saturate(180%);
      border:1px solid rgba(255,255,255,.4);
      border-radius:var(--radius);
      padding:0 0 clamp(1.2rem,3vw,2rem);
      display:flex;
      flex-direction:column;
      transition:transform .3s,box-shadow .3s,border-color .3s;
      will-change:transform;
      box-shadow:var(--shadow);
    }
    .item-card:hover{transform:translateY(-6px);border-color:var(--accent);box-shadow:0 20px 50px rgba(0,0,0,.12)}

    .img-box{position:relative;width:100%;height:0;padding-bottom:50%;overflow:visible}
    .img-box img{position:absolute;top:-60px;left:0;width:100%;height:calc(100% + 60px);object-fit:cover;border-radius:var(--radius) var(--radius) 0 0;pointer-events:none}
    .card-body{padding:clamp(1rem,3vw,1.5rem);display:flex;flex-direction:column;gap:1rem}
    .item-name{font-size:clamp(1.1rem,3vw,1.5rem);text-align:center;letter-spacing:-.5px}
    .item-rating{font-size:1.2rem;color:var(--accent);text-align:center}
    .item-desc{font-size:clamp(.85rem,2vw,1rem);color:var(--muted);flex:1;text-align:center}
    .item-price{font-size:clamp(1.4rem,4vw,2rem);font-weight:700;text-align:center;background:linear-gradient(90deg,var(--accent),#ffadc7);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .item-footer{display:flex;align-items:center;gap:.5rem}
    .qty-btn{width:40px;height:40px;border:none;border-radius:50%;background:rgba(0,0,0,.03);color:var(--text);font-size:1.4rem;cursor:pointer;transition:background .3s}
    .qty-btn:hover{background:var(--accent);color:#fff}
    .add-btn{flex:1;background:rgba(0,0,0,.03);border:1px solid rgba(0,0,0,.08);border-radius:12px;padding:clamp(.6rem,2vw,.9rem);font-size:clamp(.9rem,2.2vw,1.1rem);color:var(--text);cursor:pointer;transition:background .3s,color .3s}
    .add-btn:hover{background:var(--accent);color:#fff}

    footer{text-align:center;padding:clamp(1.5rem,4vw,3rem) 1rem;font-size:clamp(.75rem,2vw,.9rem);color:var(--muted);line-height:1.5}
    .footer-text{margin-bottom:.5rem}
    .footer-links{font-size:clamp(.7rem,1.8vw,.85rem)}
    .footer-links a{color:var(--accent);text-decoration:none;margin:0 .5rem}
    .footer-links a:hover{text-decoration:underline}

    /* —Ç—ë–º–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∫–∞–∫ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–µ */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:none;align-items:center;justify-content:center;z-index:100}
    .modal-box{background:var(--card);border-radius:var(--radius);padding:clamp(1.5rem,4vw,2.5rem);width:clamp(300px,90vw,600px);max-height:80vh;overflow-y:auto;display:flex;flex-direction:column;gap:1rem}
    .modal-header{display:flex;justify-content:space-between;align-items:center}
    .modal-title{font-size:clamp(1.3rem,3.5vw,2rem)}
    .modal-close{background:none;border:none;font-size:2rem;color:var(--muted);cursor:pointer}

    .cart-item{display:flex;gap:1rem;align-items:center;margin-bottom:1rem}
    .cart-item img{width:64px;height:64px;object-fit:cover;border-radius:var(--radius)}
    .cart-item-content{flex:1;display:flex;flex-direction:column;gap:.25rem}
    .cart-item-name{font-weight:700;font-size:1rem}
    .cart-item-desc{font-size:.8rem;color:var(--muted)}
    .cart-item-controls{display:flex;align-items:center;gap:.5rem;margin-top:.5rem}
    .cart-item-controls button{width:28px;height:28px;border:none;border-radius:50%;background:rgba(0,0,0,.03);color:var(--text);cursor:pointer}
    .cart-item-controls button:hover{background:var(--accent);color:#fff}
    .cart-item-price{font-weight:700;font-size:1.1rem;margin-top:.5rem}
    .clear-btn,.checkout-btn{padding:.75rem 1.5rem;border:none;border-radius:12px;font-weight:700;cursor:pointer;transition:background .3s,color .3s}
    .clear-btn{background:#e53935;color:#fff}
    .checkout-btn{background:var(--accent);color:#fff}

    .legal-text{font-size:clamp(.9rem,2.2vw,1.05rem);line-height:1.7;letter-spacing:.4px;color:var(--text);white-space:pre-line;padding:0 .2rem 1rem}
    .legal-text p{margin:.6rem 0}
    .legal-close-btn{align-self:center;margin-top:auto;padding:.6rem 1.6rem;background:var(--accent);color:#fff;border:none;border-radius:12px;font-weight:700;cursor:pointer;transition:background .3s}
    .legal-close-btn:hover{background:#ffadc7}
  </style>
</head>
<body data-theme="light">

<!-- –ª–µ–ø–µ—Å—Ç–∫–∏ -->
<div id="petals"></div>

<header>
  <button class="theme-toggle" id="themeToggle" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåô</button>
  <a href="40.html" class="site-btn" title="–ù–∞ —Å–∞–π—Ç">üåê</a>
  <img src="shop/logo.webp" alt="Guzlik Play" class="logo-header">
  <div class="top-cart" onclick="openModal('cart')">
    <img src="shop/icoshop.webp" alt="üõí">
    <span class="top-cart-count" id="cartCount">0</span>
  </div>
  <p>–ó–¥–µ—Å—å —Ç—ã –≤—ã–±–∏—Ä–∞–µ—à—å –Ω–µ —Å—Ç–∞—Ç—É—Å, –∞ —Ñ–æ—Ä–º—É —Å–≤–æ–µ–≥–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è –≤ –º–∏—Ä–µ Guzlik Play.</p>
</header>

<nav class="cat-nav">
  <button class="cat-btn active" data-cat="all">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
  <button class="cat-btn" data-cat="priv">–ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏</button>
  <button class="cat-btn" data-cat="currency">–í–∞–ª—é—Ç–∞</button>
  <button class="cat-btn" data-cat="cosmetic">–ö–æ—Å–º–µ—Ç–∏–∫–∞</button>
  <button class="cat-btn" data-cat="packs">–ù–∞–±–æ—Ä—ã</button>
</nav>

<div class="tools">
  <input type="search" class="search" placeholder="üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞‚Ä¶">
  <select class="sort">
    <option value="price-asc">–¶–µ–Ω–∞ ‚Üë</option>
    <option value="price-desc">–¶–µ–Ω–∞ ‚Üì</option>
    <option value="name">–ù–∞–∑–≤–∞–Ω–∏–µ</option>
  </select>
</div>

<main class="shop-grid" id="shopGrid"></main>

<footer>
  <div class="footer-text">
    Guzlik Play ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ–µ–∫—Ç. –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ —è–≤–ª—è—é—Ç—Å—è –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–º–∏ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è–º–∏ –∏ –Ω–µ –¥–∞—é—Ç –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤.
  </div>
  <div class="footer-text">
    –ü—Ä–æ–µ–∫—Ç –Ω–µ —Å–≤—è–∑–∞–Ω —Å Mojang Studios –∏–ª–∏ Microsoft.
  </div>
  <div class="footer-links">
    <a href="#" onclick="openModal('legal'); return false;">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a> ‚Ä¢
    <a href="#" onclick="openModal('returns'); return false;">–ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤</a> ‚Ä¢
    <a href="#" onclick="openModal('contacts'); return false;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
  </div>
</footer>

<!-- 4 –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞ -->
<div id="cartModal" class="modal" onclick="if(event.target===this)closeModal('cart')">
  <div class="modal-box">
    <div class="modal-header">
      <h2 class="modal-title">–ö–æ—Ä–∑–∏–Ω–∞</h2>
      <button class="modal-close" onclick="closeModal('cart')">√ó</button>
    </div>
    <div id="cartList"></div>
    <div class="modal-footer" style="display:flex;gap:1rem">
      <button class="clear-btn" onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç—å</button>
      <button class="checkout-btn" onclick="checkout()">–û–ø–ª–∞—Ç–∏—Ç—å</button>
    </div>
  </div>
</div>

<div id="legalModal" class="modal" onclick="if(event.target===this)closeModal('legal')">
  <div class="modal-box">
    <div class="modal-header">
      <h2 class="modal-title">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
      <button class="modal-close" onclick="closeModal('legal')">√ó</button>
    </div>
    <div class="legal-text">
      <p>–í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–∞ —Å–∞–π—Ç–µ —è–≤–ª—è—é—Ç—Å—è –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–º–∏ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è–º–∏ –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Guzlik Play.</p>
      <p>–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∏ –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –∏–≥—Ä–æ–≤–æ–π –±–∞–ª–∞–Ω—Å.</p>
      <p>–í—Å–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–æ—Å—è—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–π, –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ –∏–º–µ—é—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.</p>
      <p>–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç –≤–æ–∑–≤—Ä–∞—Ç—É. –í–æ–∑–≤—Ä–∞—Ç –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ –≤ —Å–ª—É—á–∞–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏.</p>
      <p>–ü—Ä–æ–µ–∫—Ç Guzlik Play —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –∏ –Ω–µ —Å–≤—è–∑–∞–Ω —Å Mojang Studios –∏–ª–∏ Microsoft Corporation. –í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ Minecraft –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏—Ö –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º.</p>
      <p>–õ–∏—Ü–∞–º –º–ª–∞–¥—à–µ 18 –ª–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–≤–µ—Ä—à–∞—Ç—å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∏–ª–∏ –∑–∞–∫–æ–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π.</p>
      <p>–ö–æ–Ω—Ç–∞–∫—Ç—ã —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É–∫–∞–∑–∞–Ω—ã –Ω–∞ —Å–∞–π—Ç–µ.</p>
    </div>
    <button class="legal-close-btn" onclick="closeModal('legal')">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<div id="returnsModal" class="modal" onclick="if(event.target===this)closeModal('returns')">
  <div class="modal-box">
    <div class="modal-header">
      <h2 class="modal-title">–ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤</h2>
      <button class="modal-close" onclick="closeModal('returns')">√ó</button>
    </div>
    <div class="legal-text">
      <p>–í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –Ω–∞ —Å–∞–π—Ç–µ Guzlik Play —è–≤–ª—è—é—Ç—Å—è –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–º–∏ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è–º–∏.</p>
      <p>–ü–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç –≤–æ–∑–≤—Ä–∞—Ç—É –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π –∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.</p>
      <p>–í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –≤–æ–∑–º–æ–∂–µ–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —Å–ª—É—á–∞–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞ Guzlik Play.</p>
      <p>–ö–∞–∂–¥–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ —Å–ª—É–∂–±–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.</p>
    </div>
    <button class="legal-close-btn" onclick="closeModal('returns')">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<div id="contactsModal" class="modal" onclick="if(event.target===this)closeModal('contacts')">
  <div class="modal-box">
    <div class="modal-header">
      <h2 class="modal-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      <button class="modal-close" onclick="closeModal('contacts')">√ó</button>
    </div>
    <div class="legal-text">
      <p>–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º, —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –ø—Ä–æ–µ–∫—Ç–æ–º Guzlik Play, –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è–º–∏ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏, –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏.</p>
      <p>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–≤—è–∑–∏:</p>
      <p>‚Äî Discord-—Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞<br>‚Äî Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–∞ —Å–∞–π—Ç–µ</p>
      <p>–°—Ä–æ–∫ –æ—Ç–≤–µ—Ç–∞ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.</p>
    </div>
    <button class="legal-close-btn" onclick="closeModal('contacts')">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>

<script>
  const catalog={
    priv:[
      {id:'img1',name:'–¢–ª–µ—é—â–∏–π –ì—É–∑–ª–∏–∫',desc:'–ò—Å—Ö–æ–¥–Ω—ã–π –û–±–ª–∏–∫. –°–ø–æ–∫–æ–π–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.',price:0,icon:'‚¨ú',rating:5},
      {id:'img2',name:'–û–±–æ–∂–∂—ë–Ω–Ω—ã–π –ì—É–∑–ª–∏–∫',desc:'–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ—Ä—è–¥–æ–∫. –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã.',price:350,icon:'üü†',rating:4},
      {id:'img3',name:'–ü—ã–ª–∞—é—â–∏–π –ì—É–∑–ª–∏–∫',desc:'–Ø—Ä–∫–æ—Å—Ç—å –∏ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã.',price:450,icon:'üî¥',rating:5},
      {id:'img4',name:'–ê–¥—Å–∫–∏–π –ì—É–∑–ª–∏–∫',desc:'–ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –º–µ—Ö–∞–Ω–∏–∫–∏. –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.',price:600,icon:'ü©∑',rating:3},
      {id:'img5',name:'–ì—É–∑–ª–∏–∫ –°—É–¥–Ω–æ–≥–æ –î–Ω—è',desc:'–°–æ—É—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏. –î–æ—Å—Ç—É–ø –∫ —Ç–µ—Å—Ç–∞–º –∏ —Ñ–∏–¥–±–µ–∫.',price:1000,icon:'üü£',rating:5}
    ],
    currency:[
      {id:'img6',name:'1 000 –º–æ–Ω–µ—Ç',desc:'–ë–∞–∑–æ–≤–∞—è –∏–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞.',price:50,icon:'ü™ô',rating:4},
      {id:'img7',name:'10 000 –º–æ–Ω–µ—Ç',desc:'–ë–æ–ª—å—à–µ –∑–æ–ª–æ—Ç–∞ ‚Äî –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.',price:450,icon:'ü™ô',rating:5},
      {id:'img8',name:'100 –∫—Ä–∏—Å—Ç–∞–ª–ª–æ–≤',desc:'–ü—Ä–µ–º–∏—É–º-–≤–∞–ª—é—Ç–∞.',price:200,icon:'üíé',rating:4}
    ],
    cosmetic:[
      {id:'img9',name:'–û–≥–æ–Ω—å –∑–∞ —Å–ø–∏–Ω–æ–π',desc:'–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ª–µ–¥.',price:200,icon:'üî•',rating:4},
      {id:'img10',name:'–ü–∏—Ç–æ–º–µ—Ü –§–µ–Ω–∏–∫—Å',desc:'–õ–µ—Ç–∞–µ—Ç —Ä—è–¥–æ–º –∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç –¥—Ä–æ–ø.',price:500,icon:'üê¶‚Äçüî•',rating:5},
      {id:'img11',name:'–®–ª—è–ø–∞ –ù—É–±–∞',desc:'–ö–ª–∞—Å—Å–∏–∫–∞ –∂–∞–Ω—Ä–∞.',price:50,icon:'üß¢',rating:3}
    ],
    packs:[
      {id:'img12',name:'–°—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä',desc:'–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã + –µ–¥–∞ + 500 –º–æ–Ω–µ—Ç.',price:150,icon:'üéí',rating:4},
      {id:'img13',name:'–ú–µ–≥–∞-–Ω–∞–±–æ—Ä',desc:'–í—Å—ë —Å—Ä–∞–∑—É: –≤—Å–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –Ω–∞ –º–µ—Å—è—Ü.',price:1700,icon:'üéÅ',rating:5}
    ]
  };

  let cart=JSON.parse(localStorage.getItem('gzCart')||'[]');
  let currentCat='all';

  const grid=document.getElementById('shopGrid');
  const searchInp=document.querySelector('.search');
  const sortSel=document.querySelector('.sort');
  const catBtns=document.querySelectorAll('.cat-btn');
  const cartCount=document.getElementById('cartCount');
  const cartModal=document.getElementById('cartModal');
  const cartList=document.getElementById('cartList');
  const themeToggle=document.getElementById('themeToggle');

  /* ===== –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã ===== */
  function initTheme(){
    const saved=localStorage.getItem('theme');
    if(saved==='dark') setDark(); else setLight();
  }
  function setLight(){
    document.body.setAttribute('data-theme','light');
    themeToggle.textContent='üåô';
    localStorage.setItem('theme','light');
  }
  function setDark(){
    document.body.setAttribute('data-theme','dark');
    themeToggle.textContent='‚òÄ';
    localStorage.setItem('theme','dark');
  }
  themeToggle.addEventListener('click',()=>{
    document.body.getAttribute('data-theme')==='dark' ? setLight() : setDark();
  });
  initTheme();

  function stars(n){return '‚òÖ'.repeat(n)+'‚òÜ'.repeat(5-n);}
  function getItems(){
    if(currentCat==='all')return Object.values(catalog).flat();
    return catalog[currentCat]||[];
  }

  function render(){
    const q=searchInp.value.trim().toLowerCase();
    let list=getItems();
    if(q)list=list.filter(it=>it.name.toLowerCase().includes(q));
    const sort=sortSel.value;
    if(sort==='price-asc')list.sort((a,b)=>a.price-b.price);
    if(sort==='price-desc')list.sort((a,b)=>b.price-a.price);
    if(sort==='name')list.sort((a,b)=>a.name.localeCompare(b.name));

    grid.innerHTML=list.map(it=>{
      const inCart=cart.find(c=>c.id===it.id);
      const qty=inCart?inCart.qty:0;
      return`
        <div class="item-card">
          <div class="img-box">
            <img src="shop/${it.id}.webp" alt="${it.name}" onerror="this.src='shop/icoshop.webp'">
          </div>
          <div class="card-body">
            <h3 class="item-name">${it.name}</h3>
            <div class="item-rating">${stars(it.rating)}</div>
            <p class="item-desc">${it.desc}</p>
            <div class="item-price" id="price-${it.id}">${it.price*(qty||1)} ‚ÇΩ</div>
            <div class="item-footer">
              <button class="qty-btn" onclick="changeQty('${it.id}',-1,${it.price})">‚àí</button>
              <span id="qty-${it.id}">${qty}</span>
              <button class="qty-btn" onclick="changeQty('${it.id}',1,${it.price})">+</button>
              <button class="add-btn" onclick="addCart('${it.id}','${it.name}',${it.price})">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
          </div>
        </div>
      `;
    }).join('');
    updateCount();
    renderCart();
  }

  function addCart(id,name,price){
    const idx=cart.findIndex(it=>it.id===id);
    if(idx===-1)cart.push({id,name,price,qty:1});
    else cart[idx].qty++;
    localStorage.setItem('gzCart',JSON.stringify(cart));
    updateCount();
    renderCart();
    render();
  }
  function changeQty(id,delta,price){
    const idx=cart.findIndex(it=>it.id===id);
    if(idx===-1&&delta>0)cart.push({id,name:getItems().find(it=>it.id===id).name,price,qty:1});
    else if(idx!==-1){
      cart[idx].qty+=delta;
      if(cart[idx].qty<=0)cart.splice(idx,1);
    }
    localStorage.setItem('gzCart',JSON.stringify(cart));
    updateCount();
    renderCart();
    const item=getItems().find(it=>it.id===id);
    if(!item)return;
    const newTotal=item.price*Math.max((cart.find(c=>c.id===id)?.qty||0),1);
    const priceEl=document.getElementById('price-'+id);
    const qtyEl=document.getElementById('qty-'+id);
    if(priceEl)priceEl.textContent=newTotal+' ‚ÇΩ';
    if(qtyEl)qtyEl.textContent=Math.max((cart.find(c=>c.id===id)?.qty||0),0);
  }
  function updateCount(){
    cartCount.textContent=cart.reduce((s,it)=>s+it.qty,0);
  }
  function renderCart(){
    if(!cartList)return;
    if(cart.length===0){
      cartList.innerHTML='<p style="text-align:center;color:var(--muted)">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
      return;
    }
    cartList.innerHTML=cart.map(it=>{
      const total=it.price*it.qty;
      return`
        <div class="cart-item">
          <img src="shop/${it.id}.webp" alt="" onerror="this.src='shop/icoshop.webp'">
          <div class="cart-item-content">
            <div class="cart-item-name">${it.name}</div>
            <div class="cart-item-rating">${stars(getItems().find(i=>i.id===it.id)?.rating||0)}</div>
            <div class="cart-item-desc">${getItems().find(i=>i.id===it.id)?.desc||''}</div>
            <div class="cart-item-controls">
              <button onclick="changeQty('${it.id}',-1,${it.price})">‚àí</button>
              <span>${it.qty}</span>
              <button onclick="changeQty('${it.id}',1,${it.price})">+</button>
            </div>
            <div class="cart-item-price">${total} ‚ÇΩ</div>
          </div>
        </div>
      `;
    }).join('');
  }
  function openModal(name){
    document.getElementById(name+'Modal').style.display='flex';
  }
  function closeModal(name){
    document.getElementById(name+'Modal').style.display='none';
  }
  function clearCart(){
    cart=[];
    localStorage.setItem('gzCart',JSON.stringify(cart));
    updateCount();
    renderCart();
    render();
  }
  function checkout(){
    const total=cart.reduce((s,it)=>s+it.price*it.qty,0);
    if(total===0){alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞');return;}
    pay('–ö–æ—Ä–∑–∏–Ω–∞ Guzlik Play',total);
  }
  function pay(desc,amount){
    const merchantLogin='guzlikshop',invId=Date.now(),signature=btoa(`${merchantLogin}:${amount}:${invId}:password1`);
    window.open(`https://auth.robokassa.ru/Merchant/Index.aspx?MerchantLogin=${merchantLogin}&OutSum=${amount}&InvoiceID=${invId}&SignatureValue=${signature}&Description=${desc}`,'_blank');
  }

  catBtns.forEach(btn=>{
    btn.onclick=()=>{
      catBtns.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      currentCat=btn.dataset.cat;
      render();
    };
  });
  searchInp.oninput=render;
  sortSel.onchange=render;

  /* –ø–∞—Å—Ç–µ–ª—å–Ω—ã–µ –ª–µ–ø–µ—Å—Ç–∫–∏ —Ä–µ–∂–µ */
  (()=>{
    const container=document.getElementById('petals');
    if(!container)return;
    const colors=['#ffd1dc','#ffe4e1','#fff0f5','#ffc8d6'];
    function createPetal(){
      const p=document.createElement('div');
      p.className='petal';
      const size=Math.random()*5+5+'px';
      p.style.width=size;p.style.height=size;
      p.style.backgroundColor=colors[Math.floor(Math.random()*colors.length)];
      p.style.left=Math.random()*100+'vw';
      p.style.top='-20px';
      container.appendChild(p);
      const drift=(Math.random()-0.5)*150;
      const duration=(Math.random()*6+8)*1000;
      const anim=p.animate([
        {transform:'translate(0,0) rotate(0deg)',opacity:.6},
        {transform:`translate(${drift}px,100vh) rotate(360deg)`,opacity:.2}
      ],{duration,easing:'linear'});
      anim.onfinish=()=>{p.remove();createPetal();};
    }
    for(let i=0;i<40;i++)setTimeout(createPetal,Math.random()*10000);
  })();

  render();
</script>
</body>
</html>

